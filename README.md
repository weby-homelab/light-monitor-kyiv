# ‚ö°Ô∏è –ú–æ–Ω—ñ—Ç–æ—Ä –µ–ª–µ–∫—Ç—Ä–æ–ø–æ—Å—Ç–∞—á–∞–Ω–Ω—è (–ö–∏—ó–≤)
**–†–æ–∑—É–º–Ω–∏–π –µ–Ω–µ—Ä–≥–µ—Ç–∏—á–Ω–∏–π –∞—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è –≤–∞—à–æ–≥–æ –¥–æ–º—É**

[![Status](https://img.shields.io/badge/Status-Active-success?style=flat-square)]()
[![Python](https://img.shields.io/badge/Python-3.10%2B-3776AB?style=flat-square&logo=python&logoColor=white)](https://www.python.org/)
[![License](https://img.shields.io/github/license/weby-homelab/light-monitor-kyiv?style=flat-square)](LICENSE)
[![Release](https://img.shields.io/github/v/release/weby-homelab/light-monitor-kyiv?style=flat-square&color=blueviolet)](https://github.com/weby-homelab/light-monitor-kyiv/releases)

> **–ë—ñ–ª—å—à–µ –Ω—ñ–∂ –ø—Ä–æ—Å—Ç–æ –±–æ—Ç.** –¶–µ –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–∞ –∞–Ω–∞–ª—ñ—Ç–∏—á–Ω–∞ —Å–∏—Å—Ç–µ–º–∞, —è–∫–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏—Ç—å —Ä–µ–∞–ª—å–Ω–∏–π —Å—Ç–∞–Ω –µ–ª–µ–∫—Ç—Ä–æ–º–µ—Ä–µ–∂—ñ, –ø–æ—Ä—ñ–≤–Ω—é—î –π–æ–≥–æ –∑ –≥—Ä–∞—Ñ—ñ–∫–∞–º–∏ –î–¢–ï–ö/Yasno —Ç–∞ –Ω–∞–¥–∞—î —Ç–æ—á–Ω—É —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —É –≤–∏–≥–ª—è–¥—ñ –∫—Ä–∞—Å–∏–≤–∏—Ö –∑–≤—ñ—Ç—ñ–≤.

---

## üåü –û—Å–Ω–æ–≤–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

### üîç –ñ–∏–≤–∏–π –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ (Real-time)
–ú–∏—Ç—Ç—î–≤–∞ —Ä–µ–∞–∫—Ü—ñ—è –Ω–∞ –∑–º—ñ–Ω–∏ –≤ –º–µ—Ä–µ–∂—ñ –∑ —ñ–Ω—Ç–µ–ª–µ–∫—Ç—É–∞–ª—å–Ω–∏–º –∞–Ω–∞–ª—ñ–∑–æ–º.
*   üöÄ **–®–≤–∏–¥–∫—ñ—Å—Ç—å:** –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è `üü¢ –°–≤—ñ—Ç–ª–æ —î` / `üî¥ –°–≤—ñ—Ç–ª–∞ –Ω–µ–º–∞—î` –ø—Ä–∏—Ö–æ–¥—è—Ç—å –∑–∞ —Å–µ–∫—É–Ω–¥–∏.
*   üß† **–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –ë–æ—Ç –∑–Ω–∞—î –≥—Ä–∞—Ñ—ñ–∫. –Ø–∫—â–æ —Å–≤—ñ—Ç–ª–æ –∑–Ω–∏–∫–ª–æ –Ω–µ –∑–∞ –ø–ª–∞–Ω–æ–º ‚Äî –≤—ñ–Ω –ø—Ä–æ —Ü–µ —Å–∫–∞–∂–µ.
*   ‚è± **–¢–æ—á–Ω—ñ—Å—Ç—å:** "–¢–æ—á–Ω—ñ—Å—Ç—å: 0 —Ö–≤ (—Ç–æ—á–Ω–æ –∑–∞ –≥—Ä–∞—Ñ—ñ–∫–æ–º)" ‚Äî –¥–ª—è —ñ–¥–µ–∞–ª—å–Ω–∏—Ö –ø–µ—Ä–µ–º–∏–∫–∞–Ω—å.

### üì± PWA Dashboard (v1.3.0)
–í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏–π —Ü–µ–Ω—Ç—Ä –∫–µ—Ä—É–≤–∞–Ω–Ω—è –ø—Ä—è–º–æ –≤ —Ç–µ–ª–µ—Ñ–æ–Ω—ñ.
*   **–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è:** –ü—Ä–∞—Ü—é—î —è–∫ –Ω–∞—Ç–∏–≤–Ω–∏–π –¥–æ–¥–∞—Ç–æ–∫ –Ω–∞ iOS —Ç–∞ Android.
*   **–û—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º:** –®–≤–∏–¥–∫–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞–≤—ñ—Ç—å –ø—Ä–∏ –ø–æ–≥–∞–Ω–æ–º—É —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—ñ.
*   **–í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è:** –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ –≥—Ä–∞—Ñ—ñ–∫–∏, —ñ—Å—Ç–æ—Ä—ñ—è –ø–æ–¥—ñ–π —Ç–∞ —Å—Ç–∞—Ç—É—Å –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ.

### üìä –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ —Ç–∞ –ó–≤—ñ—Ç–∏
–ú–∏ –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î–º–æ –Ω—É–¥–Ω—ñ –¥–∞–Ω—ñ –Ω–∞ –∫—Ä–∞—Å–∏–≤—É —ñ–Ω—Ñ–æ–≥—Ä–∞—Ñ—ñ–∫—É.
*   **–©–æ–¥–µ–Ω–Ω–∏–π –∑–≤—ñ—Ç:** –ì—Ä–∞—Ñ—ñ–∫ "–ü–ª–∞–Ω vs –§–∞–∫—Ç". –û–Ω–æ–≤–ª—é—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–æ—Ç—è–≥–æ–º –¥–Ω—è.
*   **–¢–∏–∂–Ω–µ–≤–∏–π –¥–∞–π–¥–∂–µ—Å—Ç:** –ü—ñ–¥—Å—É–º–∫–∏ —Ç–∏–∂–Ω—è, —Ä–µ–π—Ç–∏–Ω–≥ —Å—Ç–∞–±—ñ–ª—å–Ω–æ—Å—Ç—ñ —Ç–∞ –∞–Ω–∞–ª—ñ–∑ —Ç–µ–Ω–¥–µ–Ω—Ü—ñ–π.
*   **Dark Mode:** –°—Ç–∏–ª—å–Ω–∏–π –¥–∏–∑–∞–π–Ω —É —Ç–µ–º–Ω–æ-—Ñ—ñ–æ–ª–µ—Ç–æ–≤–∏—Ö —Ç–æ–Ω–∞—Ö (`Deep Purple`).

---

## üì∏ –ì–∞–ª–µ—Ä–µ—è

| **Live Alert** | **Daily Report** | **Weekly Analysis** |
| :---: | :---: | :---: |
| *–¢–æ—á–Ω—ñ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –∑ –ø—Ä–æ–≥–Ω–æ–∑–æ–º* | *–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –ø–ª–∞–Ω—É —Ç–∞ —Ñ–∞–∫—Ç—É* | *–ì–ª–æ–±–∞–ª—å–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞* |
| ![Alert](docs/img/web_dashboard.jpg) | ![Daily](docs/img/daily_report.jpg) | ![Weekly](docs/img/weekly_report.jpg) |

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–µ–∫ —Ç–∞ –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

–°–∏—Å—Ç–µ–º–∞ —Å–ø—Ä–æ–µ–∫—Ç–æ–≤–∞–Ω–∞ —è–∫ –Ω–∞–±—ñ—Ä –Ω–µ–∑–∞–ª–µ–∂–Ω–∏—Ö –º—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å—ñ–≤, —â–æ —Å–ø—ñ–ª–∫—É—é—Ç—å—Å—è —á–µ—Ä–µ–∑ —Ñ–∞–π–ª–æ–≤—É –±–∞–∑—É –¥–∞–Ω–∏—Ö (JSON). –¶–µ –∑–∞–±–µ–∑–ø–µ—á—É—î –≤–∏—Å–æ–∫—É –≤—ñ–¥–º–æ–≤–æ—Å—Ç—ñ–π–∫—ñ—Å—Ç—å: —è–∫—â–æ –æ–¥–∏–Ω –º–æ–¥—É–ª—å –≤–ø–∞–¥–µ, —ñ–Ω—à—ñ –ø—Ä–æ–¥–æ–≤–∂–∞—Ç—å –ø—Ä–∞—Ü—é–≤–∞—Ç–∏.

```mermaid
graph TD
    subgraph External["üåç –ó–æ–≤–Ω—ñ—à–Ω—ñ–π –°–≤—ñ—Ç"]
        Router(("üì° Router / Script"))
        Yasno[("‚òÅÔ∏è Yasno / DTEK API")]
        User(("üë§ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á"))
    end

    subgraph Backend["üß† Core (Python)"]
        Monitor["üöÄ power_monitor_server.py<br>(HTTP Listener & API)"]
        Scraper["üï∑Ô∏è main.py<br>(Scraper & Analyzer)"]
        Generator["üé® generate_reports.py<br>(Matplotlib Viz Engine)"]
    end

    subgraph Database["üíæ JSON Storage (NoSQL)"]
        EventLog[("event_log.json<br>(–Ü—Å—Ç–æ—Ä—ñ—è —É–≤—ñ–º–∫–Ω–µ–Ω—å)")]
        SchedLog[("schedule_history.json<br>(–ê—Ä—Ö—ñ–≤ –≥—Ä–∞—Ñ—ñ–∫—ñ–≤)")]
        State[("power_monitor_state.json<br>(–ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω)")]
    end

    subgraph Frontend["üñ•Ô∏è Interface"]
        TG["‚úàÔ∏è Telegram Bot"]
        PWA["üì± PWA Dashboard<br>(HTML/JS/CSS)"]
    end

    %% Data Flow
    Router -- "Heartbeat (GET)" --> Monitor
    Yasno -- "JSON Data" --> Scraper
    
    %% Logic
    Monitor -- "Write" --> EventLog & State
    Scraper -- "Write" --> SchedLog
    Monitor -.-> |"Trigger"| Generator
    
    %% Visualization
    Generator -- "Read" --> EventLog & SchedLog
    Generator -- "Render PNG" --> PWA
    Generator -- "Send" --> TG
    
    %% User Interaction
    Monitor -- "Push Alert" --> TG
    User -- "HTTPS" --> PWA
    PWA -- "AJAX Poll" --> Monitor
```

### üß± –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ —Å–∏—Å—Ç–µ–º–∏

*   **üêç Core (Backend):** Python 3.10+
    *   **Async IO:** –ë–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–∞ –æ–±—Ä–æ–±–∫–∞ –∑–∞–ø–∏—Ç—ñ–≤ (`threading`) –¥–ª—è –º–∏—Ç—Ç—î–≤–æ—ó —Ä–µ–∞–∫—Ü—ñ—ó –Ω–∞ Heartbeat.
    *   **Http.server:** –õ–µ–≥–∫–æ–≤–∞–∂–Ω–∏–π –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –±–µ–∑ –≤–∞–∂–∫–∏—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫—ñ–≤ (Django/Flask) –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ—ó —à–≤–∏–¥–∫–æ–¥—ñ—ó –Ω–∞ —Å–ª–∞–±–∫–æ–º—É –∑–∞–ª—ñ–∑—ñ.
    *   **Subprocess:** –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π –∑–∞–ø—É—Å–∫ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ñ–≤ –∑–≤—ñ—Ç—ñ–≤, —â–æ–± –Ω–µ –±–ª–æ–∫—É–≤–∞—Ç–∏ –æ—Å–Ω–æ–≤–Ω–∏–π –ø–æ—Ç—ñ–∫ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É.

*   **üåê Frontend (Web & PWA):**
    *   **Vanilla JS:** –ß–∏—Å—Ç–∏–π JavaScript –±–µ–∑ `npm` –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π —Ç–∞ –∑–±—ñ—Ä–∫–∏.
    *   **PWA:** –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ `Service Workers` –¥–ª—è –æ—Ñ–ª–∞–π–Ω-–¥–æ—Å—Ç—É–ø—É —Ç–∞ `manifest.json` –¥–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —è–∫ –Ω–∞—Ç–∏–≤–Ω–∏–π –¥–æ–¥–∞—Ç–æ–∫.
    *   **AJAX Polling:** –ñ–∏–≤–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏.

*   **üíæ Data (Persistence):**
    *   **JSON-based DB:** –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–ª–æ—Å–∫–∏—Ö —Ñ–∞–π–ª—ñ–≤ –∑–∞–º—ñ—Å—Ç—å SQL. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –ª–µ–≥–∫–æ –±–µ–∫–∞–ø–∏—Ç–∏ –¥–∞–Ω—ñ, —Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ —ó—Ö –≤—Ä—É—á–Ω—É —Ç–∞ –Ω–µ –ø–æ—Ç—Ä–µ–±—É—î –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–µ—Ä–≤–µ—Ä–∞ –±–∞–∑ –¥–∞–Ω–∏—Ö.
    *   **State Management:** –ê—Ç–æ–º–∞—Ä–Ω–∏–π –∑–∞–ø–∏—Å —Å—Ç–∞–Ω—ñ–≤ –¥–ª—è –∑–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è –∫–æ–ª—ñ–∑—ñ—è–º.

*   **üé® Visualization:**
    *   **Matplotlib:** –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ä–∞—Å—Ç—Ä–æ–≤–∏—Ö –∑–æ–±—Ä–∞–∂–µ–Ω—å (PNG) –∑ –∫–∞—Å—Ç–æ–º–Ω–∏–º `style context` –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Ç–µ–º–Ω–æ—ó —Ç–µ–º–∏ (`Deep Purple`).
    *   **Pandas-free:** –û–±—Ä–æ–±–∫–∞ —á–∞—Å–æ–≤–∏—Ö —Ä—è–¥—ñ–≤ –Ω–∞ —á–∏—Å—Ç–æ–º—É Python –¥–ª—è –µ–∫–æ–Ω–æ–º—ñ—ó –ø–∞–º'—è—Ç—ñ.

---

## üöÄ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞ 5 —Ö–≤–∏–ª–∏–Ω

### 1. –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞
–í–∞–º –∑–Ω–∞–¥–æ–±–∏—Ç—å—Å—è Linux-—Å–µ—Ä–≤–µ—Ä (VPS, Raspberry Pi, –∞–±–æ —Å—Ç–∞—Ä–∏–π –Ω–æ—É—Ç–±—É–∫ –∑ Ubuntu).

```bash
# –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
git clone https://github.com/weby-homelab/light-monitor-kyiv.git
cd light-monitor-kyiv

# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

### 2. –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env`:
```ini
TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω
TELEGRAM_CHANNEL_ID=–∞–π–¥—ñ_–∫–∞–Ω–∞–ª—É
```

### 3. –ó–∞–ø—É—Å–∫
–ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É —Ç–∞ –¥–æ–¥–∞–π—Ç–µ –∑–∞–≤–¥–∞–Ω–Ω—è –≤ Cron –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó (–¥–∏–≤. —Ñ–∞–π–ª `INSTRUCTIONS.md` –¥–ª—è –¥–µ—Ç–∞–ª–µ–π).

---

## üÜï –û—Å—Ç–∞–Ω–Ω—ñ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è

### v1.3.0 ‚Äî Precision Update & PWA
*   üì± **PWA Support:** –ü–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤–µ–±-–ø–∞–Ω–µ–ª—ñ –Ω–∞ –º–æ–±—ñ–ª—å–Ω–∏–π –¥–æ–¥–∞—Ç–æ–∫.
*   üéØ **–•—ñ—Ä—É—Ä–≥—ñ—á–Ω–∞ —Ç–æ—á–Ω—ñ—Å—Ç—å:** –ù–æ–≤–∞ –ª–æ–≥—ñ–∫–∞ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –≤—ñ–¥—Ö–∏–ª–µ–Ω—å –≤—ñ–¥ –≥—Ä–∞—Ñ—ñ–∫—É.
*   üîÆ **–†–æ–∑—É–º–Ω–∏–π –ø—Ä–æ–≥–Ω–æ–∑:** –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ø–æ–≤–Ω–æ–≥–æ –¥—ñ–∞–ø–∞–∑–æ–Ω—É –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è.

### v1.2.0 ‚Äî Energy Control Center
*   üåê **Web Dashboard 2.0:** –ù–æ–≤–∏–π –¥–∏–∑–∞–π–Ω, —ñ—Å—Ç–æ—Ä—ñ—è –ø–æ–¥—ñ–π, –ø–æ–∫—Ä–∞—â–µ–Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å.

---

## ü§ù –ö–æ–Ω—Ç—Ä–∏–±'—é—Ç–∏–Ω–≥
–¶–µ–π –ø—Ä–æ–µ–∫—Ç ‚Äî Open Source. –ú–∏ –≤—ñ—Ç–∞—î–º–æ –±—É–¥—å-—è–∫—ñ —ñ–¥–µ—ó, –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫ —Ç–∞ –Ω–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó.
*   –ó–Ω–∞–π—à–ª–∏ –±–∞–≥? –í—ñ–¥–∫—Ä–∏–π—Ç–µ **Issue**.
*   –•–æ—á–µ—Ç–µ –¥–æ–¥–∞—Ç–∏ —Ñ—ñ—á—É? –ù–∞–¥—Å–∏–ª–∞–π—Ç–µ **Pull Request**.

---
*–†–æ–∑—Ä–æ–±–ª–µ–Ω–æ –∑ ‚ù§Ô∏è —Ç–∞ üî¶ —É –ö–∏—î–≤—ñ.*
